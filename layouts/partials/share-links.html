
{{/*
  share-links.html
  Renders share links for the current page. Providers are read from
  `site.Params.share.providers` (valid keys: "xitter", "facebook", "bsky", "email").
  Usage: partial "share-links.html" .
*/}}
{{ $page := . }}
{{ $url := $page.Permalink }}
{{ $title := urlquery $page.Title }}
{{ $text := urlquery (cond (isset $page.Params "summary") $page.Params.summary $page.Summary) }}
{{ $providers := default (slice "xitter" "facebook" "bsky" "email") site.Params.share.providers }}

<div class="share-links d-flex gap-2 my-3">
  {{ range $i, $provider := $providers }}

    {{ if eq $provider "facebook" }}
      <a class="btn btn-outline-secondary btn-sm d-flex align-items-center" href="https://www.facebook.com/sharer/sharer.php?u={{ $url }}" target="_blank" rel="noopener" aria-label="Share on Facebook">
        <svg class='social-icon icon-facebook me-2'><use href='/svg-icons/social-icons.svg#facebook'/></svg>
        <span class="d-none d-md-inline">Facebook</span>
      </a>

    {{ else if eq $provider "bsky" }}
      <a class="btn btn-outline-secondary btn-sm d-flex align-items-center" href="https://bsky.app/intent/compose/post?text={{ $title }}%0A%0A{{ $url }}" target="_blank" rel="noopener" aria-label="Share on Bsky">
        <svg class='social-icon icon-bsky me-2'><use href='/svg-icons/social-icons.svg#bsky'/></svg>
        <span class="d-none d-md-inline">Bsky</span>
      </a>

    {{ else if eq $provider "email" }}
      <a class="btn btn-outline-secondary btn-sm d-flex align-items-center" href="mailto:?subject={{ $title }}&body=%0A%0A{{ $url }}" aria-label="Share by email">
        <svg class='social-icon icon-mail me-2'><use href='/svg-icons/social-icons.svg#mail'/></svg>
        <span class="d-none d-md-inline">Email</span>
      </a>

    {{ end }}
  {{ end }}
</div>
